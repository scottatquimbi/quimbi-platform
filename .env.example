# Unified Behavioral Segmentation - Environment Configuration

# ==================== Database Configuration ====================
DATABASE_URL=postgresql://segmentation:YOUR_PASSWORD@localhost:5432/segmentation

# ==================== Service Configuration ====================
SERVICE_PORT=8000
LOG_LEVEL=INFO
ENVIRONMENT=production

# ==================== Segmentation Settings ====================
# Minimum number of players required for taxonomy calibration
MIN_PLAYER_POPULATION=500

# Target variance explained by discovered segments
VARIANCE_EXPLAINED_THRESHOLD=0.70

# Historical data lookback window (days)
DEFAULT_LOOKBACK_DAYS=90

# Number of segments sent to AI (token optimization)
AI_OPTIMIZED_SEGMENT_COUNT=7

# ==================== Performance Settings ====================
# Maximum concurrent categorizations
MAX_CONCURRENT_CATEGORIZATIONS=100

# Cache TTL for segment definitions (seconds)
CACHE_TTL_SECONDS=300

# Database connection pool size
DB_POOL_SIZE=5
DB_POOL_TIMEOUT=60

# ==================== Redis Configuration (Optional) ====================
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=true

# ==================== AI Integration (Optional) ====================
# Google Gemini API
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_TIMEOUT=30

# Anthropic Claude API
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_TIMEOUT=35

# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_TIMEOUT=30

# ==================== Security Settings ====================
# JWT secret for API authentication (if using auth)
JWT_SECRET=your_jwt_secret_here
JWT_EXPIRY_HOURS=24

# API rate limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=1000

# SSL enforcement
REQUIRE_SSL=true

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=https://your-frontend-domain.com,https://your-admin-domain.com

# ==================== Monitoring & Observability ====================
# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Structured logging format
LOG_FORMAT=json

# Sentry error tracking (optional)
SENTRY_DSN=

# ==================== Migration & Rollout ====================
# Rollout strategy: parallel_only, shadow_mode, gradual_rollout, full_rollout
ROLLOUT_STRATEGY=parallel_only

# Percentage of traffic to unified system (0.0 - 1.0)
ROLLOUT_PERCENTAGE=0.0

# Enable migration validator
MIGRATION_VALIDATION_ENABLED=true

# ==================== Development Settings ====================
# Enable debug mode (DO NOT USE IN PRODUCTION)
DEBUG=false

# Auto-reload on code changes (development only)
AUTO_RELOAD=false

# ==================== Docker Settings ====================
# Database password for Docker Compose
DB_PASSWORD=your_secure_database_password

# ==================== Deployment-Specific Settings ====================
# Railway
RAILWAY_ENVIRONMENT=production

# AWS
AWS_REGION=us-east-1
AWS_SECRET_NAME=unified-segmentation-secrets

# Kubernetes
K8S_NAMESPACE=segmentation
K8S_SERVICE_ACCOUNT=segmentation-sa
